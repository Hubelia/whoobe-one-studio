(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1308bad0"],{"600b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.images?i("div",{staticClass:"z-modal"},[i("div",{staticClass:"h-10 w-full p-2 flex flex-row items-center px-16"},["manage"===t.$attrs.options?i("div",[i("button",{staticClass:"btn"},[t._v("Upload")]),i("button",{staticClass:"btn btn-red"},[t._v("Pixabay")])]):t._e()]),i("div",{staticClass:"flex flex-row flex-wrap px-4 items-center justify-center"},[t._l(t.images.data,(function(e){return[i("div",{key:e.id,staticClass:"m-2",attrs:{title:e.url},on:{click:function(i){t.preview=e,t.currentImage=e.url}}},[i("img",{staticClass:"h-32 w-48 object-cover shadow-lg",attrs:{src:t.$imageURL(e)}})])]}))],2),i("div",{staticClass:"absolute left-0 top-0 w-16 h-screen flex flex-col items-center justify-center"},[i("m-icon",{staticClass:"text-6xl",attrs:{icon:"chevron_left"},on:{click:function(e){t.skip>0&&(t.skip=t.skip-t.limit)}}})],1),i("div",{staticClass:"absolute right-0 top-0 w-16 h-screen flex flex-col items-center justify-center"},[i("m-icon",{staticClass:"text-6xl",attrs:{icon:"chevron_right"},on:{click:function(e){t.skip+t.limit<t.images.total&&(t.skip=t.skip+t.limit)}}})],1),t.preview?i("Modal",{staticClass:"bg-white shadow w-3/4 h-auto",on:{close:function(e){t.preview=null}}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.preview.name))]),i("div",{staticClass:"relative flex flex-row",attrs:{slot:"body"},slot:"body"},[i("div",{staticClass:"w-3/4"},[i("img",{staticClass:"w-full h-auto object-contain",staticStyle:{"max-height":"600px"},attrs:{src:t.$imageURL(t.preview)}})]),i("div",{staticClass:"p-2 flex flex-col"},[i("label",[t._v(t._s(t.preview.name))]),i("label",[t._v("Dimension")]),i("label",[t._v(t._s(t.preview.width)+" x "+t._s(t.preview.height)+" - "+t._s((t.preview.size/1e3).toFixed(2))+" KB")]),t.preview.formats?i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentImage,expression:"currentImage"}],staticClass:"p-2",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentImage=e.target.multiple?i:i[0]}}},t._l(Object.keys(t.preview.formats),(function(e){return i("option",{domProps:{value:t.preview.formats[e].url}},[t._v(t._s(t.preview.formats[e].width)+" x "+t._s(t.preview.formats[e].height)+" - "+t._s(parseInt(t.preview.formats[e].size/1e3))+"KB")])})),0):t._e(),"manage"===!t.$attrs.options?i("div"):t._e(),i("div",{staticClass:"flex flex-row items-center"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.width,expression:"width"}],staticClass:"p-2",attrs:{type:"number",min:"1",max:"5000"},domProps:{value:t.width},on:{change:t.setHeight,input:function(e){e.target.composing||(t.width=e.target.value)}}}),t._v(" x "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.height,expression:"height"}],staticClass:"p-2",attrs:{type:"number",min:"1",max:"5000"},domProps:{value:t.height},on:{input:function(e){e.target.composing||(t.height=e.target.value)}}})]),i("button",{staticClass:"lg bg-indigo-500 rounded mt-2",on:{click:function(e){return t.$editorBus("selectedMedia",t.currentImage)}}},[t._v("Select")]),"manage"===t.$attrs.options?i("button",{staticClass:"lg bg-red-500 rounded mt-2 mr-2"},[t._v(" Delete ")]):t._e()])])]):t._e()],1):t._e()},a=[],n=(i("7db0"),{name:"Media",data:function(){return{limit:24,skip:0,images:null,preview:null,currentImage:null,width:0,height:0,ratio:1}},methods:{media:function(){var t=this;this.$loading(),this.$api.service("media").find({query:{$limit:this.limit,$skip:this.skip}}).then((function(e){t.images=e,t.$loading(!1)})).catch((function(e){t.$loading(!1),t.$eventBus("notification","error")}))},setHeight:function(){this.height=parseInt(this.width/this.ratio)}},watch:{skip:function(t){this.media()},preview:function(t){t&&(this.width=t.width,this.height=t.height,console.log(t.width,t.height,t.width/t.height),this.ratio=t.width/t.height)}},mounted:function(){this.media()}}),r=n,o=i("2877"),l=Object(o["a"])(r,s,a,!1,null,null,null);e["default"]=l.exports},"7db0":function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").find,n=i("44d2"),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),s({target:"Array",proto:!0,forced:o},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)}}]);