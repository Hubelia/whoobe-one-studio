(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b1fe8c2"],{"7fe5":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.display&&t.editor.page&&t.editor.document?o("div",{ref:"mainEditor",staticClass:"bg-gray-100 min-h-screen text-black",attrs:{id:"mainEditor",classe:t.display}},[o("div",{staticClass:"h-8 mt-8 p-1 bg-white text-gray-800 w-full fixed flex flex-row items-center left-0 top-0 z-2xtop shadow cursor-pointer"},[t.editor.page?o("span",{staticClass:"ml-2 chip text-gray-100 bg-purple-800"},[t._v(t._s(t.editor.page.name))]):t._e(),o("span",{staticClass:"chip bg-gray-100 text-black ml-1"},[t._v(t._s(t.editor.page.category))]),o("i-icon",{staticClass:"text-gray-400 ml-4 text-2xl hover:text-purple-600",attrs:{icon:"carbon:settings",title:"Template settings"},on:{click:function(e){return t.$dialogBus("settingsPage")}}}),o("i-icon",{staticClass:"text-xl icon-button ml-4 cursor-pointer",attrs:{icon:"akar-icons:javascript-fill",title:"Add Javascript"},on:{click:function(e){return t.$dialogBus("JSEditor","javascript")}}}),o("i-icon",{staticClass:"text-gray-400 ml-4 text-2xl hover:text-purple-600",attrs:{icon:"gg:shortcut",title:"Shortcuts"},on:{click:function(e){return t.$dialogBus("shortcuts")}}}),o("i-icon",{staticClass:"ml-4 text-2xl icon-button",attrs:{icon:"grommet-icons:help-option",title:"Documentation"},on:{click:function(e){return t.$dialogBus("help","Editor")}}}),o("i-icon",{staticClass:"text-gray-400 ml-4 text-2xl hover:text-purple-600",attrs:{icon:"codicon:open-preview",title:"Preview"},on:{click:function(e){return t.$editorBus("preview","fullscreen")}}}),o("span",{staticClass:"absolute right-0 mr-12"},[t._v("X:"+t._s(parseInt(t.containerCoords.left)-t.editorOffsetX)+" Y:"+t._s(parseInt(t.containerCoords.top+t.scroll-t.editorOffsetY))+" ")])],1),o("div",{staticClass:"p-4 mt-24 pb-20",attrs:{id:"BlockEditor"}},[t.editor.document?o("BlockContainer",{attrs:{doc:t.editor.document,level:"10"},on:{current:t.setCurrent}}):t._e()],1),t.editor.current?o("BlockFloatingAction",{staticClass:"z-modal bg-white modal",attrs:{coords:t.coords,scroll:t.scroll,title:t.actionTitle,component:t.actionComponent,options:t.options},on:{close:function(e){t.actionComponent=null}}}):t._e(),o(t.component,{tag:"BlockFloating",staticClass:"absolute left-0 z-highest",class:t.editElementContent(),attrs:{id:"floating",scroll:t.scroll,coords:t.containerCoords},on:{close:function(e){t.component=null,t.actionComponent=null}}}),t.editor.current&&t.viewBlocks?o("pre",[t._v("        "+t._s(t.editor.current.tag)+"\n        "+t._s(t.editor.current)+"\n    ")]):t._e()],1):t._e()},c=[],i=o("5530"),r=(o("d3b7"),o("3ca3"),o("ddb0"),o("99af"),o("ac1f"),o("5319"),o("caad"),o("2532"),o("d9b4")),s=o("a9f7"),l=o("2f62"),d=o("56d7"),a={name:"BlockEditor",components:{BlockContainer:function(){return o.e("chunk-7f8f2fe4").then(o.bind(null,"e988"))},BlockLink:function(){return o.e("chunk-2d2102d9").then(o.bind(null,"b77e"))},BlockFloating:function(){return o.e("chunk-2d20f758").then(o.bind(null,"b45e"))},BlockEditContent:function(){return o.e("chunk-2d0ccbc8").then(o.bind(null,"4ecd"))},BlockFloatingAction:function(){return o.e("chunk-2d0a4743").then(o.bind(null,"0706"))}},data:function(){return{scroll:0,viewBlocks:!1,elementLink:!1,elementFloating:!1,elementContent:!1,floatingID:null,display:!0,editorOffsetX:16,editorOffsetY:88,coords:{top:0,left:0,offsetX:0,offsetY:0},containerCoords:{top:0,left:0,height:0},component:null,actionComponent:null,actionStile:"",actionTitle:"",options:null,action:null,timer:null}},computed:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["editor"])),{},{linkVisible:function(){return this.elementLink?"opacity-100":"opacity-0"},floating:function(){return this.elementFloating&&"element"===this.editor.current.type?"opacity-100":"opacity-0"},classe:function(){return this.display?"":"hidden"},actionPosition:function(){return console.log(this.$refs),this.$refs.floatingDropdown&&console.log(this.$refs.floatingDropdown),!1}}),watch:{scroll:function(t){if(this.editor.current&&this.editor.current&&this.editor.current.id&&this.containerCoords)try{var e=document.getElementById(this.editor.current.id),o=e.getBoundingClientRect();this.containerCoords.top=o.top-t,this.actionStile="top:".concat(this.coords.top-this.containerCoords.height,"px;left:").concat(this.coords.left,"px;")}catch(n){return}},"$store.state.editor.current.id":function(){this.actionComponent=null,this.containerCoords.top=this.containerCoords.top-this.scroll}},methods:{actionComponentPosition:function(t){t&&(this.containerCoords.height=t,this.containerCoords.top>250?this.actionStile="top:".concat(this.coords.top-this.scroll-t,"px;left:").concat(this.coords.left,"px;"):this.actionStile="top:0px;left:".concat(this.coords.left,"px;"))},createDocument:function(){var t=new s["a"],e=(new r["a"]).Flexbox({direction:"col"});e.css.css=this.$clean(e.css.css),components.json=e,this.$store.dispatch("setComponent",t),this.$store.dispatch("document",e),this.$store.dispatch("setCurrent",e)},setCurrent:function(t){t.css.css=this.$clean(t.css.css),this.$store.dispatch("setCurrent",t),this.action=null},getCoords:function(t){var e=document.querySelector("#"+t);try{return e.getBoundingClientRect()}catch(o){return null}},editContent:function(){return this.elementContent&&"element"===this.editor.current.type?"opacity-100":"opacity-0"},editElementContent:function(){return this.component?"opacity-100":"opacity-0"}},beforeDestroy:function(){window.clearInterval(this.timer),this.timer=null},mounted:function(){var t=this;this.actionStile="top:".concat(this.coords.top-this.scroll-8,"px;left:").concat(this.coords.left,"px;");var e=this,n=this.$store.state.editor.settings;if(n.autosave&&0!=this.editor.page.id&&(this.timer=window.setInterval((function(){e.$savePage()}),1e3*parseInt(n.autosaveTimeout)*60)),!this.editor.document){var c=window.localStorage.getItem("whoobe-preview");c?this.$store.dispatch("document",JSON.parse(c)):this.$editorBus("createComponent")}d["editorBus"].$on("floatingElement",(function(e){t.component=function(){return o.e("chunk-2d20f758").then(o.bind(null,"b45e"))};var n=t.getCoords(e);n&&(t.containerCoords={top:n.top+8,left:n.left})})),d["editorBus"].$on("selectElement",(function(e,o){if(e)document.getElementById(t.editor.current.id);else{var n=document.querySelector(".elementSelector");n&&document.body.removeChild(n)}})),d["editorBus"].$on("editorAction",(function(e){t.actionTitle=e.title,t.action=e.icon,t.actionComponent=function(){return o("9496")("./"+e.action)};var n=t.getCoords("floating");t.coords.top=n.top+t.scroll,t.coords.left=n.left,t.options=e.options})),d["editorBus"].$on("importComponent",(function(e){t.editor.current.blocks.push(e.json.blocks[0]),t.$dialogBus("closeDialog")})),d["editorBus"].$on("selectedMedia",(function(e){t.editor.current.image.hasOwnProperty("url")?t.editor.current.image.url=e:t.editor.current.image=e,t.actionComponent=null,t.action=null,t.$dialogBus("closeDialog")})),d["editorBus"].$on("setFlexRow",(function(){t.editor.current.css.container=t.editor.current.css.container.replace("flex-col","").replace("flex-row",""),!t.editor.current.css.container.includes("flex-row")&&(t.editor.current.css.container=t.$clean(t.editor.current.css.container+" flex-row"))})),d["editorBus"].$on("setFlexCol",(function(){t.editor.current.css.container=t.editor.current.css.container.replace("flex-col","").replace("flex-row",""),!t.editor.current.css.container.includes("flex-col")&&(t.editor.current.css.container=t.$clean(t.editor.current.css.container+" flex-col"))})),d["editorBus"].$on("copyBlockCSS",(function(){var e=Object.assign({},t.editor.current.css);e.style=t.editor.current.style,window.localStorage.setItem("whoobe-block-css",JSON.stringify(e))})),d["editorBus"].$on("pasteBlockCSS",(function(){if(window.localStorage.getItem("whoobe-block-css")){var e=JSON.parse(window.localStorage.getItem("whoobe-block-css"));t.editor.current.css.css=e.css,t.editor.current.css.container=e.container,t.editor.current.style=e.style}})),this.editor.page||this.$router.push("/"),this.setCurrent(this.editor.document),this.action=null,this.actionComponent=null,this.$editorBus("floatingElement",this.editor.document.id),this.$refs.mainEditor.addEventListener("scroll",(function(e){t.scroll=e.target.scrollTop})),this.$refs.mainEditor.style.overflowY="auto",this.editor.page.id||this.editor.document.blocks.length||this.$dialogBus("snippets")}},u=a,h=o("2877"),k=Object(h["a"])(u,n,c,!1,null,null,null);e["default"]=k.exports},9496:function(t,e,o){var n={"./BlockAddToUIKit":["e987","chunk-2d226769"],"./BlockAddToUIKit.vue":["e987","chunk-2d226769"],"./BlockAlpine":["ee43","chunk-2d230c15"],"./BlockAlpine.vue":["ee43","chunk-2d230c15"],"./BlockAnimation":["5c5e","chunk-2d0d3314"],"./BlockAnimation.vue":["5c5e","chunk-2d0d3314"],"./BlockAttributes":["3ff9","chunk-2d0c5b5c"],"./BlockAttributes.vue":["3ff9","chunk-2d0c5b5c"],"./BlockComponents":["5d1d","chunk-2d0d3658"],"./BlockComponents.vue":["5d1d","chunk-2d0d3658"],"./BlockContextMenu":["11dd","chunk-2d0aab96"],"./BlockContextMenu.vue":["11dd","chunk-2d0aab96"],"./BlockCss":["ad1f","chunk-2d2136ae"],"./BlockCss.vue":["ad1f","chunk-2d2136ae"],"./BlockEditContent":["4ecd","chunk-2d0ccbc8"],"./BlockEditContent.vue":["4ecd","chunk-2d0ccbc8"],"./BlockEvents":["6e62","chunk-2d0daee1"],"./BlockEvents.vue":["6e62","chunk-2d0daee1"],"./BlockFloating":["b45e","chunk-2d20f758"],"./BlockFloating.vue":["b45e","chunk-2d20f758"],"./BlockFloatingAction":["0706","chunk-2d0a4743"],"./BlockFloatingAction.vue":["0706","chunk-2d0a4743"],"./BlockFloatingBarContainer":["d42e","chunk-2d21dfb9"],"./BlockFloatingBarContainer.vue":["d42e","chunk-2d21dfb9"],"./BlockFont":["6266","chunk-2d0cef72"],"./BlockFont.vue":["6266","chunk-2d0cef72"],"./BlockForm":["3762","chunk-2d0ba516"],"./BlockForm.vue":["3762","chunk-2d0ba516"],"./BlockHeading":["3faf","chunk-2d0c5aee"],"./BlockHeading.vue":["3faf","chunk-2d0c5aee"],"./BlockHtml":["765a","chunk-72e2b47a","chunk-c8562d20"],"./BlockHtml.vue":["765a","chunk-72e2b47a","chunk-c8562d20"],"./BlockIFrame":["f7db","chunk-2d22d9c5"],"./BlockIFrame.vue":["f7db","chunk-2d22d9c5"],"./BlockIconFinder":["5f36","chunk-2d0d3dea"],"./BlockIconFinder.vue":["5f36","chunk-2d0d3dea"],"./BlockImage":["8324","chunk-2d0ddb73"],"./BlockImage.vue":["8324","chunk-2d0ddb73"],"./BlockImageUrl":["b476","chunk-bad0d032"],"./BlockImageUrl.vue":["b476","chunk-bad0d032"],"./BlockInput":["ea4e","chunk-2d22fd43"],"./BlockInput.vue":["ea4e","chunk-2d22fd43"],"./BlockJSEditor":["9906","chunk-72e2b47a","chunk-599cdfd6"],"./BlockJSEditor.vue":["9906","chunk-72e2b47a","chunk-599cdfd6"],"./BlockLibrary":["1247","chunk-6b1efcbb"],"./BlockLibrary.vue":["1247","chunk-6b1efcbb"],"./BlockLink":["b77e","chunk-2d2102d9"],"./BlockLink.vue":["b77e","chunk-2d2102d9"],"./BlockSelect":["1fec","chunk-2d0b72a9"],"./BlockSelect.vue":["1fec","chunk-2d0b72a9"],"./BlockSettings":["87e1","chunk-2d0df0a1"],"./BlockSettings.vue":["87e1","chunk-2d0df0a1"],"./BlockShortcuts":["dcc3","chunk-2d2295e5"],"./BlockShortcuts.vue":["dcc3","chunk-2d2295e5"],"./BlockSlider":["26d8"],"./BlockSlider.vue":["26d8"],"./BlockSliderControls":["9530","chunk-2d0e576f"],"./BlockSliderControls.vue":["9530","chunk-2d0e576f"],"./BlockTextColor":["97ba","chunk-2d0e64d3"],"./BlockTextColor.vue":["97ba","chunk-2d0e64d3"],"./BlockTipTap":["93cc","chunk-2d0e55f0"],"./BlockTipTap.vue":["93cc","chunk-2d0e55f0"],"./BlockTree":["c0e1","chunk-2d21624f"],"./BlockTree.vue":["c0e1","chunk-2d21624f"]};function c(t){if(!o.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],c=e[0];return Promise.all(e.slice(1).map(o.e)).then((function(){return o(c)}))}c.keys=function(){return Object.keys(n)},c.id="9496",t.exports=c}}]);