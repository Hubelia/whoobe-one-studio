(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b1fe8c2"],{"7fe5":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.display&&e.editor.page?n("div",{ref:"mainEditor",staticClass:"bg-gray-100 min-h-screen text-black",attrs:{classe:e.display}},[n("div",{staticClass:"h-8 mt-8 p-1 bg-gray-200 text-gray-800 w-full fixed flex flex-row items-center left-0 top-0 z-2xtop shadow"},[n("m-icon",{attrs:{icon:"web",css:"icon-button text-black z-modal",title:"Templates"},on:{click:function(t){return e.$dialogBus("pages")}}}),e.editor.page?n("span",{staticClass:"ml-6 text-gray-800 "},[e._v(e._s(e.editor.page.name)+" "),n("span",{staticClass:"chip bg-gray-800 text-white p-1"},[e._v(e._s(e.editor.page.category))])]):e._e(),n("m-icon",{staticClass:"ml-4",attrs:{icon:"settings"},on:{click:function(t){return e.$dialogBus("settingsPage")}}}),n("m-icon",{staticClass:"ml-4",attrs:{icon:"remove_red_eyes"},on:{click:function(t){return e.$editorBus("preview","fullscreen")}}})],1),n("div",{staticClass:"p-4 mt-16"},[e.editor.document?n("BlockContainer",{attrs:{doc:e.editor.document,level:"10"},on:{current:e.setCurrent}}):e._e()],1),e.editor.current?n(e.actionComponent,{tag:"component",staticClass:"z-highest bg-white absolute",class:e.editElementContent(),style:"top:"+e.coords.top+"px;left:"+e.coords.left+"px;",attrs:{id:"floatingAction",coords:e.coords,parent:e.editor.current?e.editor.current.id:null,options:e.options},on:{close:function(t){e.actionComponent=null}}}):e._e(),n(e.component,{tag:"BlockFloating",staticClass:"absolute left-0 z-highest",class:e.editElementContent(),attrs:{id:"floating",scroll:e.scroll,coords:e.containerCoords},on:{close:function(t){e.component=null,e.actionComponent=null}}}),e.editor.current&&e.viewBlocks?n("pre",[e._v("        "+e._s(e.editor.current.tag)+"\n        "+e._s(e.editor.current)+"\n    ")]):e._e()],1):e._e()},c=[],i=n("5530"),r=(n("d3b7"),n("3ca3"),n("ddb0"),n("d9b4")),l=n("a9f7"),s=n("2f62"),d=n("56d7"),u={name:"BlockEditor",components:{BlockContainer:function(){return n.e("chunk-08d91bc3").then(n.bind(null,"e988"))},BlockLink:function(){return n.e("chunk-2d2102d9").then(n.bind(null,"b77e"))},BlockFloating:function(){return n.e("chunk-2d20f758").then(n.bind(null,"b45e"))},BlockEditContent:function(){return n.e("chunk-2d0ccbc8").then(n.bind(null,"4ecd"))}},props:["scroll"],data:function(){return{viewBlocks:!1,elementLink:!1,elementFloating:!1,elementContent:!1,floatingID:null,display:!0,coords:{top:0,left:0,offsetX:0,offsetY:0},containerCoords:{top:0,left:0},component:null,actionComponent:null,options:null,action:null,timer:null}},computed:Object(i["a"])(Object(i["a"])({},Object(s["b"])(["editor"])),{},{linkVisible:function(){return this.elementLink?"opacity-100":"opacity-0"},floating:function(){return this.elementFloating&&"element"===this.editor.current.type?"opacity-100":"opacity-0"},classe:function(){return this.display?"":"hidden"}}),watch:{scroll:function(e){if(this.editor.current&&this.editor.current&&this.editor.current.id&&this.containerCoords)try{var t=document.getElementById(this.editor.current.id),n=t.getBoundingClientRect();this.containerCoords.top=n.top-32}catch(o){return}},"$store.state.editor.current.id":function(){this.actionComponent=null}},methods:{createDocument:function(){var e=new l["a"],t=(new r["a"]).Flexbox({direction:"col"});t.css.css=this.$clean(t.css.css),components.json=t,this.$store.dispatch("setComponent",e),this.$store.dispatch("document",t),this.$store.dispatch("setCurrent",t)},setCurrent:function(e){e.css.css=this.$clean(e.css.css),this.$store.dispatch("setCurrent",e),this.action=null},getCoords:function(e){var t=document.querySelector("#"+e);return t.getBoundingClientRect()},editContent:function(){return this.elementContent&&"element"===this.editor.current.type?"opacity-100":"opacity-0"},editElementContent:function(){return this.component?"opacity-100":"opacity-0"}},beforeDestroy:function(){window.clearInterval(this.timer),this.timer=null},mounted:function(){var e=this,t=this,o=JSON.parse(window.localStorage.getItem("whoobe-settings"));if(o.autosave&&(this.timer=window.setInterval((function(){t.$savePage()}),1e3*parseInt(o.autosaveTimeout)*60)),!this.editor.document){var c=window.localStorage.getItem("whoobe-preview");c?this.$store.dispatch("document",JSON.parse(c)):this.$editorBus("createComponent")}d["editorBus"].$on("floatingElement",(function(t){e.component=function(){return n.e("chunk-2d20f758").then(n.bind(null,"b45e"))};var o=e.getCoords(t);e.containerCoords={top:o.top-32,left:o.left}})),d["editorBus"].$on("selectElement",(function(t,n){if(t)document.getElementById(e.editor.current.id);else{var o=document.querySelector(".elementSelector");o&&document.body.removeChild(o)}})),d["editorBus"].$on("editorAction",(function(t){e.action=t.icon,e.actionComponent=function(){return n("9496")("./"+t.action)};var o=e.getCoords("floating");e.coords={top:o.bottom+e.scroll,left:o.left},e.options=t.options})),d["editorBus"].$on("importComponent",(function(t){e.editor.current.blocks.push(t.json.blocks[0]),e.$dialogBus("closeDialog")})),d["editorBus"].$on("selectedMedia",(function(t){e.editor.current.image.hasOwnProperty("url")?e.editor.current.image.url=t:e.editor.current.image=t,e.actionComponent=null,e.action=null,e.$dialogBus("closeDialog")})),d["editorBus"].$on("copyBlockCSS",(function(){var t=Object.assign({},e.editor.current.css);t.style=e.editor.current.style,window.localStorage.setItem("whoobe-block-css",JSON.stringify(t))})),d["editorBus"].$on("pasteBlockCSS",(function(){if(window.localStorage.getItem("whoobe-block-css")){var t=JSON.parse(window.localStorage.getItem("whoobe-block-css"));e.editor.current.css.css=t.css,e.editor.current.css.container=t.container,e.editor.current.style=t.style}})),this.editor.page||this.$router.push("/")}},a=u,k=n("2877"),h=Object(k["a"])(a,o,c,!1,null,null,null);t["default"]=h.exports},9496:function(e,t,n){var o={"./BlockAlpine":["ee43","chunk-2d230c15"],"./BlockAlpine.vue":["ee43","chunk-2d230c15"],"./BlockAnimation":["5c5e","chunk-2d0d3314"],"./BlockAnimation.vue":["5c5e","chunk-2d0d3314"],"./BlockComponents":["5d1d","chunk-2d0d3658"],"./BlockComponents.vue":["5d1d","chunk-2d0d3658"],"./BlockContextMenu":["11dd","chunk-2d0aab96"],"./BlockContextMenu.vue":["11dd","chunk-2d0aab96"],"./BlockCss":["ad1f","chunk-2d2136ae"],"./BlockCss.vue":["ad1f","chunk-2d2136ae"],"./BlockEditContent":["4ecd","chunk-2d0ccbc8"],"./BlockEditContent.vue":["4ecd","chunk-2d0ccbc8"],"./BlockEvents":["6e62","chunk-2d0daee1"],"./BlockEvents.vue":["6e62","chunk-2d0daee1"],"./BlockFloating":["b45e","chunk-2d20f758"],"./BlockFloating.vue":["b45e","chunk-2d20f758"],"./BlockFloatingBarContainer":["d42e","chunk-2d21dfb9"],"./BlockFloatingBarContainer.vue":["d42e","chunk-2d21dfb9"],"./BlockFont":["6266","chunk-2d0cef72"],"./BlockFont.vue":["6266","chunk-2d0cef72"],"./BlockHeading":["3faf","chunk-2d0c5aee"],"./BlockHeading.vue":["3faf","chunk-2d0c5aee"],"./BlockHtml":["765a","chunk-2d0d72e1"],"./BlockHtml.vue":["765a","chunk-2d0d72e1"],"./BlockIconFinder":["5f36","chunk-2d0d3dea"],"./BlockIconFinder.vue":["5f36","chunk-2d0d3dea"],"./BlockImage":["8324","chunk-2d0ddb73"],"./BlockImage.vue":["8324","chunk-2d0ddb73"],"./BlockImageUrl":["b476","chunk-bad0d032"],"./BlockImageUrl.vue":["b476","chunk-bad0d032"],"./BlockLibrary":["1247","chunk-2d0aa95a"],"./BlockLibrary.vue":["1247","chunk-2d0aa95a"],"./BlockLink":["b77e","chunk-2d2102d9"],"./BlockLink.vue":["b77e","chunk-2d2102d9"],"./BlockSettings":["87e1","chunk-2d0df0a1"],"./BlockSettings.vue":["87e1","chunk-2d0df0a1"],"./BlockSlider":["26d8"],"./BlockSlider.vue":["26d8"],"./BlockTextColor":["97ba","chunk-2d0e64d3"],"./BlockTextColor.vue":["97ba","chunk-2d0e64d3"],"./BlockTipTap":["93cc","chunk-2d0e55f0"],"./BlockTipTap.vue":["93cc","chunk-2d0e55f0"],"./BlockTree":["c0e1","chunk-2d21624f"],"./BlockTree.vue":["c0e1","chunk-2d21624f"]};function c(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],c=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(c)}))}c.keys=function(){return Object.keys(o)},c.id="9496",e.exports=c}}]);