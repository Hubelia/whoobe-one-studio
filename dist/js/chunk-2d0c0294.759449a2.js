(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0294"],{4134:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex flex-col p-4 items-center"},[o("input",{staticClass:"absolute top-0 left-0 right-0 bottom-0 opacity-0",attrs:{type:"file",accept:"*.json"},on:{change:t.loadTextFromFile}}),o("button",{staticClass:"w-full warning"},[t._v("Select File")]),t.loading?o("m-icon",{staticClass:"animate-spin text-4xl",attrs:{icon:"bubble_chart"}}):t._e()],1)},n=[],a=o("56d7"),i={name:"ImportFile",data:function(){return{loading:!1}},methods:{loadTextFromFile:function(t){var e=this,o=t.target.files[0],s=new FileReader;s.onload=function(t){e.loading=!0;var o=t.target.result;try{if(o=JSON.parse(o),"page"===e.$attrs.options.mode){if(!o.hasOwnProperty("json"))return void a["eventBus"].$emit("error","File selected is a block and not a valid page.");delete o.id,o.id=0,e.$store.dispatch("setPage",o),e.$store.dispatch("document",o.json.blocks),e.loading=!1}else e.$store.state.editor.current&&(o.hasOwnProperty("json")&&(o=o.json.blocks),e.$store.state.editor.current.blocks.push(o),e.$store.dispatch("setCurrent",o),e.loading=!1);e.$emit("close"),a["eventBus"].$emit("notification","File imported correctly")}catch(s){e.loading=!1,a["eventBus"].$emit("error","File not supported")}},s.readAsText(o)}}},r=i,l=o("2877"),c=Object(l["a"])(r,s,n,!1,null,null,null);e["default"]=c.exports}}]);